<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Congratulations!</title>

    <link rel="stylesheet" href="dec.css">
    <script src="dec.js" defer></script>
    <script src="main.js" defer></script>
    <script>
        window.onload = function(){
                const Name = localStorage.getItem('Name');

                switch( Name.toLowerCase() )
                {
                    // change the name according to user
                    // change the background color according to user
                    // case "christina":
                    //     document.getElementById('box1').innerHTML = `Merry Christmas ${Name}!!!`;
                    // break;
                    // case "justin":
                    //     document.getElementById('box1').innerHTML = `Merry Christmas ${Name}!!!`;
                    //     document.body.style.background = 'radial-gradient(red, orange)';
                    // break;
                    // case "chris":
                    //     document.getElementById('box1').innerHTML = `Merry Christmas ${Name}!!!`;
                    //     document.body.style.background = 'blue';
                    //     document.getElementById('box1').color = 'red';
                    //     document.getElementById('navbar').innerHTML = `<img src="Chelsea_FC.png" alt="Chelsea_FC" id="Chelsea_FC" style="float: right">`;
                    // break;
                    // case "christy":
                    //     document.getElementById('box1').innerHTML = `Merry Christmas ${Name}!!!`;
                    //     document.body.style.background = 'linear-gradient(to left, white, teal)';
                    // break;
                    case "zahria":
                        document.getElementById('box1').innerHTML = `Congratulations ${Name}!!!`;
                        for( let i = 0; i < 5; i++ )
                        {
                            celebrate();
                        }
                        document.body.onclick = celebrate;
                    break;
                    case "tehya":
                        document.getElementById('box1').innerHTML = `Congratulations ${Name}!!!`;
                        for( let i = 0; i < 5; i++ )
                        {
                            celebrate();
                        }
                        document.body.onclick = celebrate;
                    break;
                    default:
                        document.getElementById('box1').innerHTML = `Uhhm, what're you doing?`;
                        document.getElementById('box1').style.color = '#000';
                        document.body.style.background = 'radial-gradient(#fff, #000)';

                        document.getElementById('pic').style.display = 'none';
                        // image = document.createElement("img");
                        // image.src = "grad_img.png";
                        // image.alt="This is supposed to be an awesome image. mb...";
                        // image.class="grad-img";
                        // image.height="100%";
                        // document.body.appendChild(image);
                    break;
                    
                }
                
            }

            function celebrate() {
            const duration = 2 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };

            const interval = setInterval(() => {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                return clearInterval(interval);
                }

                confetti(Object.assign({}, defaults, {
                particleCount: 50,
                origin: { x: Math.random(), y: Math.random() - 0.2 }
                }));
            }, 250);
            }

            // Load confetti library (CDN)
            const script = document.createElement("script");
            script.src = "https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js";
            document.head.appendChild(script);
    </script>
</head>
<body>
    <section id="section">
        <nav id="navbar">
            <!-- Chris -->
        </nav>
        <img src="grad_img.png" alt="This is supposed to be an awesome image. mb..." class="grad-img"
             height="100%" width="100%" style="object-fit: contain; aspect-ratio: 2/3;" id="pic">
        <div class="box" id="box1" style="position: absolute; text-align: center; top: 40%; font-size: 37px;">Uhhm, what're you doing?</div>
    </section>
</body>
</html>